<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Momentry</title>
    <link rel="icon" type="image/png" href="assets/images/momentry_icon.png">
    <link rel="apple-touch-icon" href="assets/images/momentry_icon.png">
    
    <!-- Google Fonts - Inter (Open Sauce) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="css/style.css">

    <script src="libraries/p5.min.js"></script>
    <script src="libraries/p5.sound.min.js"></script>
  </head>

  <body>
    <!-- Home Button -->
    <button id="home-btn" title="Return to Home">
      <span id="home-icon">ñ†ø</span>
    </button>

    <!-- Music Toggle Button -->
    <button id="music-toggle-btn" title="Toggle Music">
      <span id="music-icon">‚ô´</span>
    </button>

    <!-- Year Navigation Buttons -->
    <button id="year-prev-btn" title="Previous Year">
      <span id="year-prev-icon">‚Üê</span>
    </button>
    <button id="year-next-btn" title="Next Year">
      <span id="year-next-icon">‚Üí</span>
    </button>

    <!-- Modal Dialog for Memory/Goal Entry -->
    <div id="entry-modal">
      <div class="modal-content">
        <h2 id="modal-title">Add Memory/Goal</h2>
        
        <!-- Existing Memories List -->
        <div id="memories-list-container">
          <h3 id="memories-list-title">Existing Memories</h3>
          <div id="memories-list"></div>
        </div>
        
        <!-- Add/Edit Memory Section -->
        <div id="memory-input-section">
          <label for="memory-title-input">Title:</label>
          <input type="text" id="memory-title-input" placeholder="Enter a title...">
          
          <label for="memory-date-input">Date:</label>
          <input type="date" id="memory-date-input">
          
          <label for="modal-text-input">Memory/Goal:</label>
          <textarea id="modal-text-input" placeholder="Enter your memory or goal..."></textarea>
          
          <div id="image-upload-area-input">
            <label for="memory-image-input-new">Image:</label>
            <input type="file" id="memory-image-input-new" accept="image/*">
            <div id="memory-image-preview-wrapper-new" style="margin-top: 8px;">
              <img id="memory-image-preview-new" alt="Preview" style="display:none; max-width: 100%; max-height: 160px; border-radius: 8px;" />
            </div>
            <button id="memory-image-clear-btn-new" type="button" style="display:none; margin-top: 8px;">Remove image</button>
          </div>
          
          <div class="modal-buttons">
            <button id="modal-save-btn">Save</button>
            <button id="modal-cancel-btn">Close</button>
          </div>
        </div>
        
        <!-- View Memory Section (hidden by default) -->
        <div id="memory-view-section" style="display:none;">
          <h3 id="memory-view-title"></h3>
          <div id="memory-view-date" class="memory-view-date"></div>
          <div id="memory-view-text" class="memory-view-text"></div>
          <div id="memory-view-image-wrapper" style="display:none;">
            <img id="memory-view-image" alt="Memory image" style="max-width: 100%; max-height: 400px; border-radius: 8px;" />
          </div>
          <div class="modal-buttons" style="margin-top: 20px;">
            <button id="memory-edit-content-btn">Edit</button>
            <button id="memory-delete-btn" class="delete-btn">Delete</button>
            <button id="memory-close-view-btn">Close</button>
          </div>
        </div>
        
        <!-- Edit Image Section (hidden by default) -->
        <div id="image-edit-section" style="display:none;">
          <div id="image-upload-area">
            <label for="memory-image-input">Image:</label>
            <input type="file" id="memory-image-input" accept="image/*">
            <div id="memory-image-preview-wrapper" style="margin-top: 8px;">
              <img id="memory-image-preview" alt="Preview" style="display:none; max-width: 100%; max-height: 160px; border-radius: 8px;" />
            </div>
            <button id="memory-image-clear-btn" type="button" style="display:none; margin-top: 8px;">Remove image</button>
          </div>
          <div class="modal-buttons" style="margin-top: 12px;">
            <button id="memory-save-image-btn">Save Image</button>
            <button id="memory-cancel-image-btn">Cancel</button>
          </div>
        </div>
      </div>
    </div>

    <script src="js/DateUtils.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/WeekCircle.js"></script>
    <script src="js/StartingPage.js"></script>
    <script src="js/MouseTrail.js"></script>
    <script src="js/RainParticle.js"></script>
    <script src="js/ModalManager.js"></script>
    <script src="js/AudioManager.js"></script>
    <script src="js/GoalCountdown.js"></script>
    <script src="js/sketch.js"></script>
  </body>
</html>
